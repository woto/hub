<th>
  <%= link_to '#', class: 'btn btn-sm btn-ghost-primary', data: { controller: 'modal-filter', action: 'click->modal-filter#open' } do %>
    <%= tag.span **@params do %>
      <%= t(@col_name, scope: [:table, :short, @settings[:singular]]) %>
    <% end %>
  <% end %>

  <% if @sort %>

    <% sorted = @sort == params[:sort] %>

    <% if sorted %>
      <% btn_color = 'btn-primary color-primary' %>
    <% else %>
      <% btn_color = 'btn-primary btn-ghost-primary color-primary' %>
    <% end %>

    <%= link_to url_for(
                    **request.params.slice(*GlobalHelper.workspace_params),
                    sort: @sort,
                    order: params[:order] == 'desc' && sorted ? 'asc' : 'desc',
                    page: 1,
        ),
        class: "ms-2 btn btn-sm #{btn_color} btn-icon" do %>
      <% if params[:order] == 'desc' && sorted %>
        <i class="fas fa-arrow-down fa-sm py-1"></i>
      <% elsif sorted %>
        <i class="fas fa-arrow-up fa-sm py-1"></i>
      <% else %>
        <i class="fas fa-angle-down fa-sm py-1"></i>
      <% end %>
    <% end %>
  <% end %>

</th>
