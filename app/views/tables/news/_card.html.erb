<%= tag.div test_id => "news-card-#{row.id}", test_class => 'news-card', class: 'card card-md mb-3' do %>
  <div class="card-body">

    <div class="d-flex align-items-center mb-4">
      <h2>
        <%= link_to news_path(id: row.id) do %>
          <%== row.title %>
        <% end %>
      </h2>

      <span class="ms-auto text-muted news-date">
        <%= l Time.zone.parse(row.published_at).utc.to_date %>
      </span>
    </div>

    <div class="fs-6 lh-lg news-preview">
      <%== row.intro %>
    </div>

    <div class="d-flex mt-5 align-items-start flex-column flex-sm-row">

      <div class="order-2 d-flex me-sm-4">
        <%= link_to t(:continue_reading),
                    news_path(id: row.id, **request.params.slice('per', 'page', 'sort', 'order', 'month', 'tag', 'q')),
                    class: 'btn btn-pink' %>
      </div>

      <div class="order-1 order-sm-2 d-flex flex-wrap justify-content-sm-end ms-sm-auto mb-3 mb-sm-0">

        <% row.tags.each do |item| %>
          <% next if item.blank? %>

          <%= link_to item, by_tag_news_index_path(tag: item, **request.params.slice('per', 'sort', 'order')),
                      class: 'badge badge-primary me-1 mb-1' %>
        <% end %>

      </div>
    </div>

  </div>
<% end %>
