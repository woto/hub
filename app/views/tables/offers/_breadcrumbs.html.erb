<% content_for :breadcrumbs do %>

  <%= render BreadcrumbComponent.new do |b| %>
    <%= b.root_item(title: t('breadcrumbs.homepage'), url: root_path) %>
    <%= b.item(title: t('breadcrumbs.dashboard'), url: dashboard_path) %>
    <%= b.item(title: t('breadcrumbs.offers'), url: offers_path(q: params[:q], per: params[:per])) %>

    <% if @favorite %>
      <%= b.item(title: "Избранное: #{@favorite.to_label}",
                 url: polymorphic_path(@favorite.kind, favorite_id: @favorite.id, q: params[:q], per: params[:per])) %>
    <% end %>

    <% if current_advertiser %>
      <%= b.item(title: current_advertiser.to_label,
                 url: advertiser_offers_path(advertiser_id: current_advertiser, q: params[:q], per: params[:per])) %>

      <% if current_feed %>
        <%= b.item(title: current_feed.to_label,
                   url: feed_offers_path(feed_id: current_feed, q: params[:q], per: params[:per])) %>

        <% if current_feed_category %>
          <% current_feed_category.path.each do |el| %>
            <%= b.item(title: el.to_label,
                       url: feed_category_offers_path(feed_category_id: el.id, q: params[:q], per: params[:per])) %>
          <% end %>
        <% end %>
      <% end %>
    <% end %>
  <% end %>
<% end %>
